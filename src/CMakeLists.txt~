cmake_minimum_required (VERSION 2.6 FATAL_ERROR)
project (simpleTree)
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=gnu++0x")
set(CMAKE_BUILD_TYPE Release)
find_package (Qt4  COMPONENTS QtCore QtGui QtWebKit REQUIRED)
find_package (VTK REQUIRED) 
find_package (PCL 1.7.2 REQUIRED  )

include_directories (${PCL_INCLUDE_DIRS})
link_directories (${PCL_LIBRARY_DIRS})
add_definitions (${PCL_DEFINITIONS})



set (project_SOURCES export/exportply.cpp export/writecsv.cpp main.cpp
		     controller.cpp 
		     gui/pclviewer.cpp
		     import/importpcd.cpp 
		     method/SphereFollowing.cpp 
		     method/eigenvalueestimator.cpp
		     method/StemPointDetection.cpp
		     method/set_coefficients.cpp
		     Model/crown.cpp 
		     Model/Cylinder.cpp 
		     Model/Segment.cpp 
		     Model/Tree.cpp)
set (project_HEADERS controller.h 
			 export/writecsv.h
 			 export/exportply.h
		     gui/pclviewer.h
		     import/importpcd.h 
		     method/SphereFollowing.h
		     method/set_coefficients.h
		     method/eigenvalueestimator.h
		     method/StemPointDetection.h 
		     Model/crown.h 
		     Model/Cylinder.h 
		     Model/Segment.h 
		     Model/Tree.h)
set (project_FORMS   gui/pclviewer.ui
					 gui/method_dialog.ui
					 gui/radius_dialog.ui
					 gui/intensity_dialog.ui
					 gui/statistical_dialog.ui
					 gui/voxel_grid_dialog.ui
					 gui/euclidean_dialog.ui
					 gui/crop_sphere_dialog.ui
					 gui/crop_box_dialog.ui
					 gui/reference_dialog.ui)
set (VTK_LIBRARIES vtkRendering vtkGraphics vtkHybrid QVTK)

QT4_WRAP_CPP (project_HEADERS_MOC   ${project_HEADERS})
QT4_WRAP_UI  (project_FORMS_HEADERS ${project_FORMS})

INCLUDE (${QT_USE_FILE})
ADD_DEFINITIONS (${QT_DEFINITIONS})
ADD_EXECUTABLE (simpleTree ${project_SOURCES}
			       ${project_FORMS_HEADERS}
			       ${project_HEADERS_MOC})
			       
TARGET_LINK_LIBRARIES (simpleTree ${QT_LIBRARIES} ${PCL_LIBRARIES} ${VTK_LIBRARIES})
